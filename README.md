# snctl-cpp

The CLI tool to manage clusters on StreamNative Cloud.

## Build

You must have a C++ compiler that supports C++17.

```bash
git submodule update --init --recursive
cmake -B build
cmake --build build
```

Then you can find the executable in `build/snctl-cpp`.

## How to use

You only need to fill the following fields in `sncloud.ini` (make sure this file exists in the current work directory):
- `bootstrap.servers`: the URL of the Kafka service, e.g. `pc-xxx:9093` on StreamNative cloud.
- `token`: the token generated by the API key.

Run `./build/snctl-cpp -h` to see the help message.

### Describe a topic

```bash
./build/snctl-cpp describe <topic>
```

Example outputs:

```
Partition[0] leader: { "id": "816909419, url: "pb0-<xxx>:9093"}"
Partition[1] leader: { "id": "101337027, url: "pb4-<xxx>:9093"}"
Partition[2] leader: { "id": "101337027, url: "pb4-<xxx>:9093"}"
Partition[3] leader: { "id": "419689856, url: "pb1-<xxx>:9093"}"
Partition[4] leader: { "id": "816909419, url: "pb0-<xxx>:9093"}"
Partition[5] leader: { "id": "101337027, url: "pb4-<xxx>:9093"}"
Partition[6] leader: { "id": "101337027, url: "pb4-<xxx>:9093"}"
Partition[7] leader: { "id": "419689856, url: "pb1-<xxx>:9093"}"
Partition[8] leader: { "id": "816909419, url: "pb0-<xxx>:9093"}"
Partition[9] leader: { "id": "101337027, url: "pb4-<xxx>:9093"}"
Partition[10] leader: { "id": "101337027, url: "pb4-<xxx>:9093"}"
Partition[11] leader: { "id": "644587507, url: "pb2-<xxx>:9093"}"
Partition[12] leader: { "id": "101337027, url: "pb4-<xxx>:9093"}"
Partition[13] leader: { "id": "419689856, url: "pb1-<xxx>:9093"}"
Partition[14] leader: { "id": "101337027, url: "pb4-<xxx>:9093"}"
Partition[15] leader: { "id": "644587507, url: "pb2-<xxx>:9093"}"
```
